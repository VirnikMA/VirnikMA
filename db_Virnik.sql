--
-- PostgreSQL database dump
--

-- Dumped from database version 15.1
-- Dumped by pg_dump version 15.1

-- Started on 2022-12-13 17:07:55

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 215 (class 1259 OID 16554)
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    id integer NOT NULL,
    name character varying(255)
);


ALTER TABLE public.category OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 16553)
-- Name: category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.category ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16560)
-- Name: image; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.image (
    id integer NOT NULL,
    file_name character varying(255),
    product_id integer NOT NULL
);


ALTER TABLE public.image OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 16559)
-- Name: image_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.image ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16566)
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id integer NOT NULL,
    count integer NOT NULL,
    date_time timestamp without time zone,
    number character varying(255),
    price real NOT NULL,
    status integer,
    person_id integer NOT NULL,
    product_id integer NOT NULL
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16565)
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.orders ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orders_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 16572)
-- Name: person; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.person (
    id integer NOT NULL,
    login character varying(50),
    password character varying(255),
    role character varying(255)
);


ALTER TABLE public.person OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16571)
-- Name: person_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.person ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.person_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 16580)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    date_time_of_created timestamp without time zone,
    description text NOT NULL,
    price real NOT NULL,
    seller character varying(255) NOT NULL,
    title text NOT NULL,
    warehouse character varying(255) NOT NULL,
    category_id integer NOT NULL,
    CONSTRAINT product_price_check CHECK ((price >= (1)::double precision))
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 16589)
-- Name: product_cart; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product_cart (
    id integer NOT NULL,
    person_id integer,
    product_id integer
);


ALTER TABLE public.product_cart OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 16588)
-- Name: product_cart_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product_cart ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_cart_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16579)
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3362 (class 0 OID 16554)
-- Dependencies: 215
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.category (id, name) VALUES (1, 'Украшения');
INSERT INTO public.category (id, name) VALUES (2, 'Деды Морозы');
INSERT INTO public.category (id, name) VALUES (3, 'Подарки');


--
-- TOC entry 3364 (class 0 OID 16560)
-- Dependencies: 217
-- Data for Name: image; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.image (id, file_name, product_id) VALUES (1, '602a36bb-f817-497b-b456-a792dbb34cc4.s1.png', 1);
INSERT INTO public.image (id, file_name, product_id) VALUES (2, 'cd35b550-72d5-4ed6-90e3-ca214af9abec.s2.png', 1);
INSERT INTO public.image (id, file_name, product_id) VALUES (3, '1be0de26-a8ea-4beb-a02e-f460118212e3.s3.png', 1);
INSERT INTO public.image (id, file_name, product_id) VALUES (4, '5ea56c28-150c-4850-a27e-a747d7f84014.s4.jpg', 1);
INSERT INTO public.image (id, file_name, product_id) VALUES (6, 'e7e64a23-711b-4ac1-bbb5-9ece35a12209.s2_1.jpg', 2);
INSERT INTO public.image (id, file_name, product_id) VALUES (7, '71d52489-de1b-44ef-a0c4-64434d1cb727.s2_2.png', 2);
INSERT INTO public.image (id, file_name, product_id) VALUES (8, '5327e3d0-d5b9-48ec-b2c9-400bd3b99c34.s2_3.png', 2);
INSERT INTO public.image (id, file_name, product_id) VALUES (9, '609e7bda-9255-4642-924c-5be98064c96f.s2_4.png', 2);
INSERT INTO public.image (id, file_name, product_id) VALUES (11, '6707f677-d30b-441c-a294-2d1cbc07047a.s3_1.png', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (12, '6d2e8789-d199-46f2-831c-f087cfb7a7c1.s3_2.png', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (13, '56e89e84-9045-4bd8-9a4e-7dc31f57f64d.s3_3.jpg', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (14, '08604335-c28f-42dd-89e1-e0370a81a7fa.s3_4.jpg', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (16, '985bbb80-89d3-44da-898b-160d324af67e.p3_1.jpg', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (17, '61d83b6d-7784-4bee-b7b0-94d700bb1ccd.p3_2.jpg', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (18, '177328ad-a178-4129-a97d-f6e69cdd7e19.p3_3.jpg', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (19, 'f284e0b9-500e-4a73-ba5f-53425acc035f.p3_4.jpg', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (21, '8238c70c-a2ba-4af5-baf0-58abe2ffe500.d1.jpg', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (22, '345cdb71-5f31-448c-ad99-e8bef68f2d79.d2.jpg', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (23, 'dfc9d771-efa0-4bb1-92fa-12648ccdbf0c.d3.jpg', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (24, 'f7a38c2c-0a5f-449f-a1d2-c10609dc17b5.d4.jpg', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (25, '22fa7f57-569e-4335-910f-74f8eb4fe545.d2_1.jpg', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (26, '3b614465-a9c5-4137-b256-0ae4b6e9dcd5.d2_2.jpg', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (27, 'd93951ff-21a9-4853-933e-cf61c752a90d.d2_3.jpg', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (28, 'ef272a12-903d-4e10-aa8f-c7668be168d5.d2_4.jpg', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (29, '567cf4b3-c5d9-4832-a900-925e0228fe56.p1.jpg', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (30, '55ed9f59-61f8-494c-8e88-10684fd1f4cd.p2.jpg', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (31, '9a0a779e-f102-4c58-b914-e148051e0189.p3.jpg', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (32, 'bda4f5e0-d9a7-4fec-b14c-a0ae5b71ea3d.p4.jpg', 7);


--
-- TOC entry 3366 (class 0 OID 16566)
-- Dependencies: 219
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (3, 1, '2022-12-06 22:27:58.633449', '5b8e004b-b8b5-4cd7-b838-56e91eb03e3b', 250, 0, 2, 2);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (4, 1, '2022-12-06 22:27:58.757166', '5b8e004b-b8b5-4cd7-b838-56e91eb03e3b', 270, 0, 2, 3);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (5, 1, '2022-12-11 02:51:52.782015', 'cf9436e3-7386-498d-8b7e-ed5c943f9c08', 600, 1, 2, 4);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (6, 1, '2022-12-11 02:51:53.09355', 'cf9436e3-7386-498d-8b7e-ed5c943f9c08', 310, 1, 2, 1);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (1, 1, '2022-12-05 16:06:40.538474', 'afca4904-30ee-45b1-95fe-88021aeab18c', 300, 1, 2, 1);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (2, 1, '2022-12-05 16:06:40.759926', 'afca4904-30ee-45b1-95fe-88021aeab18c', 600, 3, 2, 4);


--
-- TOC entry 3368 (class 0 OID 16572)
-- Dependencies: 221
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.person (id, login, password, role) VALUES (1, 'qqqqqq', '$2a$10$IbbQwTuUYp12EitBXqRRmOojBF55IQaZk8Gxtk7FparAv9X2zDd26', 'ROLE_ADMIN');
INSERT INTO public.person (id, login, password, role) VALUES (2, 'aaaaaa', '$2a$10$MBjiSI63AMvNvM6MkNr8heRDnBno6apInc8J8EudAztHjpZPGH8kO', 'ROLE_USER');


--
-- TOC entry 3370 (class 0 OID 16580)
-- Dependencies: 223
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (7, '2022-12-12 01:10:13.481159', 'Ждет моих подарочков ребятня
И тебе достанется от меня.

Наконец сбываются все мечты,
Лучший мой подарочек - это ты!

А ну-ка, давай-ка, плясать выходи!
Нет Дед Мороз, нет Дед Мороз,
Нет Дед Мороз, погоди!', 700, 'Огонек', 'Подарок "Ну, погоди!"', 'СоюзМультфильм', 3);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (4, '2022-12-04 16:54:48.316674', 'Набор из 6 подарочных банок с конфетами монпансье на Новый Год Кролика 2023! Конфеты сделаны из натуральных компонентов и упакованы в жестяную банку с новогодними наклейками. Подарить можно кому угодно: мужчине, женщине, папе, маме, друзьям, коллеге, сестре, брату, подруге, другу, бабушке, дедушке, знакомым, детям в детский садик или школу, школьнику, школьнице, одноклассникам - это универсальный подарок! Монпансье в жестяной железной банке - лучший подарок! Подойдет для всех, кто ищет подарок на НГ, подарочный набор на новый год, сладкий подарок, подарочный бокс, коробка для подарка, новогодние сладости, вкусняшки, сладости, леденцы, гостинец, знак внимания', 600, 'ИП Дядя Федор', 'Набор Монпасье ', 'Простоквашино', 3);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (3, '2022-12-04 15:54:23.950421', 'Шёл по лесу дед Мороз
мимо клёнов и берёз,
мимо просек, мимо пней,
шёл по лесу много дней.
Он по бору проходил-
Ёлки в бусы нарядил.
В эту ночь под Новый год
он ребятам их несёт.
На полянках тишина,
светит жёлтая луна.
Все деревья в серебре,
зайцы пляшут на горе,
на пруду сверкает лёд,
Наступает Новый год!', 270, 'Огонек', 'Шар Сказочный лес', 'Простоквашино', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (1, NULL, 'Белая берёза
под моим окном
принакрылась снегом,
точно серебром.
На пушистых ветках
снежною каймой
распустились кисти
белой бахромой.
И стоит берёза
в сонной тишине,
и горят снежинки
в золотом огне.
А заря, лениво
обходя кругом,
обсыпает ветки
новым серебром.', 310, 'ИП Дядя Федор', 'Шар Избушка', 'Простоквашино', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (2, '2022-12-04 15:47:26.053354', 'Вьётся лёгкий вечерний снежок,
голубые мерцают огни,
и звенит под ногами каток,
словно в давние школьные дни.

Вот ты мчишься туда, где огни,
я зову, но тебя уже нет.
Догони, догони!
Ты лукаво кричишь мне в ответ.
Догони, догони!
Ты лукаво кричишь мне в ответ', 250, 'ООО Покровские Ворота', 'Шар Веселая семейка', 'Старомосковский', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (5, '2022-12-12 00:49:49.69922', 'Забавные маленькие Деды Морозы порадуют вас и ваших друзей и близких на Новый Год! Двадцать смешных маленьких нарядных глазастых кактусов в новогодних шапочках помогут вам легко и непринужденно одарить всех страждущих и не вогнать себя в долги! С нашими кактусятами дарить радость легко и приятно!', 1000, 'ООО Мичуринец', 'Комплект Дедиков Морозиков', 'Одинцово', 2);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (6, '2022-12-12 00:56:02.934463', '— Расскажи, Снегурочка,
Где была?
Расскажи-ка, милая,
Как дела?
— За тобою бегала, Дед Мороз,
Пролила немало я
Горьких слез.

— А ну-ка, давай-ка, плясать выходи!
— Нет, Дед Мороз, погоди!', 400, 'Огонек', 'Дед Мороз со Снегурочкой', 'СоюзМультфильм', 2);


--
-- TOC entry 3372 (class 0 OID 16589)
-- Dependencies: 225
-- Data for Name: product_cart; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product_cart (id, person_id, product_id) VALUES (8, 2, 3);


--
-- TOC entry 3378 (class 0 OID 0)
-- Dependencies: 214
-- Name: category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.category_id_seq', 3, true);


--
-- TOC entry 3379 (class 0 OID 0)
-- Dependencies: 216
-- Name: image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.image_id_seq', 32, true);


--
-- TOC entry 3380 (class 0 OID 0)
-- Dependencies: 218
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_id_seq', 6, true);


--
-- TOC entry 3381 (class 0 OID 0)
-- Dependencies: 220
-- Name: person_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.person_id_seq', 2, true);


--
-- TOC entry 3382 (class 0 OID 0)
-- Dependencies: 224
-- Name: product_cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_cart_id_seq', 8, true);


--
-- TOC entry 3383 (class 0 OID 0)
-- Dependencies: 222
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 7, true);


--
-- TOC entry 3200 (class 2606 OID 16558)
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (id);


--
-- TOC entry 3202 (class 2606 OID 16564)
-- Name: image image_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT image_pkey PRIMARY KEY (id);


--
-- TOC entry 3204 (class 2606 OID 16570)
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- TOC entry 3206 (class 2606 OID 16578)
-- Name: person person_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT person_pkey PRIMARY KEY (id);


--
-- TOC entry 3212 (class 2606 OID 16593)
-- Name: product_cart product_cart_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT product_cart_pkey PRIMARY KEY (id);


--
-- TOC entry 3208 (class 2606 OID 16587)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (id);


--
-- TOC entry 3210 (class 2606 OID 16595)
-- Name: product uk_qka6vxqdy1dprtqnx9trdd47c; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT uk_qka6vxqdy1dprtqnx9trdd47c UNIQUE (title);


--
-- TOC entry 3214 (class 2606 OID 16601)
-- Name: orders fk1b0m4muwx1t377w9if3w6wwqn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk1b0m4muwx1t377w9if3w6wwqn FOREIGN KEY (person_id) REFERENCES public.person(id);


--
-- TOC entry 3216 (class 2606 OID 16611)
-- Name: product fk1mtsbur82frn64de7balymq9s; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT fk1mtsbur82frn64de7balymq9s FOREIGN KEY (category_id) REFERENCES public.category(id);


--
-- TOC entry 3215 (class 2606 OID 16606)
-- Name: orders fk787ibr3guwp6xobrpbofnv7le; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk787ibr3guwp6xobrpbofnv7le FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3213 (class 2606 OID 16596)
-- Name: image fkgpextbyee3uk9u6o2381m7ft1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT fkgpextbyee3uk9u6o2381m7ft1 FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3217 (class 2606 OID 16621)
-- Name: product_cart fkhpnrxdy3jhujameyod08ilvvw; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fkhpnrxdy3jhujameyod08ilvvw FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3218 (class 2606 OID 16616)
-- Name: product_cart fksgnkc1ko2i1o9yr2p63ysq3rn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fksgnkc1ko2i1o9yr2p63ysq3rn FOREIGN KEY (person_id) REFERENCES public.person(id);


-- Completed on 2022-12-13 17:08:00

--
-- PostgreSQL database dump complete
--

